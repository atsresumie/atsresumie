/* Fonts are self-hosted via next/font in layout.tsx - no external CDN */

@import "tailwindcss";
@import "tw-animate-css";

/* ============================================================================
   ATSResumie Design System: "The Résumé Atelier"
   A refined editorial aesthetic inspired by premium stationery
   ============================================================================ */

/* Class-based dark mode variant */
@custom-variant dark (&:is(.dark *));

/* ============================================================================
   DESIGN TOKENS
   Single source of truth for the entire design system
   ============================================================================ */

:root {
	/* --------------------------------------------------------------------------
	   COLORS - Warm matte dark theme with terracotta accent
	   -------------------------------------------------------------------------- */

	/* Surfaces - The "paper" foundation */
	--surface-base: hsl(30 8% 8%); /* Deep charcoal with warm undertone */
	--surface-raised: hsl(30 6% 12%); /* Cards and panels */
	--surface-inset: hsl(
		30 6% 6%
	); /* Pressed/recessed areas (signature motif) */
	--surface-overlay: hsl(30 6% 14%); /* Modals, dropdowns */

	/* Text - Cream tones like aged paper */
	--text-primary: hsl(40 20% 88%); /* Main text */
	--text-secondary: hsl(40 10% 58%); /* Captions, labels */
	--text-tertiary: hsl(40 6% 38%); /* Disabled, placeholders */

	/* Accent - Terracotta/vermillion (the "wax seal" color) */
	--accent: hsl(12 72% 52%); /* Primary accent */
	--accent-hover: hsl(12 72% 58%); /* Hover state */
	--accent-muted: hsl(12 40% 24%); /* Subtle backgrounds */
	--accent-foreground: hsl(40 20% 95%); /* Text on accent */

	/* Borders - Hair rules */
	--border-subtle: hsl(30 8% 18%); /* Subtle separators */
	--border-visible: hsl(30 8% 24%); /* Card outlines, inputs */
	--border-focus: hsl(12 72% 52%); /* Focus ring */

	/* Semantic Colors */
	--success: hsl(158 60% 42%); /* Muted sage green */
	--success-muted: hsl(158 40% 16%); /* Success background */
	--warning: hsl(38 70% 50%); /* Muted golden yellow */
	--warning-muted: hsl(38 50% 16%); /* Warning background */
	--error: hsl(0 60% 50%); /* Muted red */
	--error-muted: hsl(0 40% 16%); /* Error background */
	--info: hsl(210 50% 50%); /* Muted blue */
	--info-muted: hsl(210 40% 16%); /* Info background */

	/* Legacy shadcn compatibility tokens */
	--background: var(--surface-base);
	--foreground: var(--text-primary);
	--card: var(--surface-raised);
	--card-foreground: var(--text-primary);
	--popover: var(--surface-overlay);
	--popover-foreground: var(--text-primary);
	--primary: var(--accent);
	--primary-foreground: var(--accent-foreground);
	--secondary: var(--surface-raised);
	--secondary-foreground: var(--text-primary);
	--muted: var(--surface-inset);
	--muted-foreground: var(--text-secondary);
	--destructive: var(--error);
	--destructive-foreground: hsl(0 0% 100%);
	--border: var(--border-visible);
	--input: var(--surface-inset);
	--ring: var(--accent);

	/* --------------------------------------------------------------------------
	   TYPOGRAPHY - Fonts defined in layout.tsx via next/font
	   Change fonts in layout.tsx to update the entire codebase
	   -------------------------------------------------------------------------- */

	--font-display: var(--font-display, "Newsreader"), Georgia, serif;
	--font-body:
		var(--font-body, "IBM Plex Sans"), system-ui, -apple-system, sans-serif;
	--font-mono: "SF Mono", Monaco, "Cascadia Code", monospace;

	/* Type scale (major third: 1.25) */
	--text-xs: 0.75rem; /* 12px */
	--text-sm: 0.875rem; /* 14px */
	--text-base: 1rem; /* 16px */
	--text-lg: 1.125rem; /* 18px */
	--text-xl: 1.25rem; /* 20px */
	--text-2xl: 1.5rem; /* 24px */
	--text-3xl: 1.875rem; /* 30px */
	--text-4xl: 2.25rem; /* 36px */
	--text-5xl: 3rem; /* 48px */
	--text-6xl: 3.75rem; /* 60px */

	/* Line heights */
	--leading-none: 1;
	--leading-tight: 1.2;
	--leading-snug: 1.35;
	--leading-normal: 1.5;
	--leading-relaxed: 1.625;

	/* Letter spacing */
	--tracking-tight: -0.025em;
	--tracking-normal: 0;
	--tracking-wide: 0.025em;

	/* Font weights */
	--font-normal: 400;
	--font-medium: 500;
	--font-semibold: 600;
	--font-bold: 700;

	/* --------------------------------------------------------------------------
	   SPACING - 4px base unit
	   -------------------------------------------------------------------------- */

	--space-0: 0;
	--space-px: 1px;
	--space-0-5: 0.125rem; /* 2px */
	--space-1: 0.25rem; /* 4px */
	--space-1-5: 0.375rem; /* 6px */
	--space-2: 0.5rem; /* 8px */
	--space-2-5: 0.625rem; /* 10px */
	--space-3: 0.75rem; /* 12px */
	--space-3-5: 0.875rem; /* 14px */
	--space-4: 1rem; /* 16px */
	--space-5: 1.25rem; /* 20px */
	--space-6: 1.5rem; /* 24px */
	--space-8: 2rem; /* 32px */
	--space-10: 2.5rem; /* 40px */
	--space-12: 3rem; /* 48px */
	--space-16: 4rem; /* 64px */
	--space-20: 5rem; /* 80px */
	--space-24: 6rem; /* 96px */

	/* --------------------------------------------------------------------------
	   RADII - Editorial: minimal rounding
	   -------------------------------------------------------------------------- */

	--radius-none: 0;
	--radius-sm: 2px; /* Subtle rounding for buttons/inputs */
	--radius-md: 4px; /* Cards (minimal) */
	--radius-lg: 6px; /* Larger elements */
	--radius-pill: 9999px; /* Pills, badges */

	/* Legacy shadcn */
	--radius: var(--radius-sm);

	/* --------------------------------------------------------------------------
	   SHADOWS - No glow, subtle depth via borders
	   -------------------------------------------------------------------------- */

	--shadow-none: none;
	--shadow-inset: inset 0 1px 0 0 hsl(30 6% 4%); /* Pressed effect */
	--shadow-subtle: 0 1px 2px 0 hsl(0 0% 0% / 0.1);
	--shadow-card: 0 4px 12px -2px hsl(0 0% 0% / 0.15);

	/* --------------------------------------------------------------------------
	   MOTION - Restrained and purposeful
	   -------------------------------------------------------------------------- */

	--duration-instant: 0ms;
	--duration-fast: 100ms;
	--duration-normal: 150ms;
	--duration-slow: 300ms;
	--duration-slower: 500ms;

	--ease-out: cubic-bezier(0.16, 1, 0.3, 1);
	--ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
	--ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);

	/* --------------------------------------------------------------------------
	   LAYOUT
	   -------------------------------------------------------------------------- */

	--max-width-content: 1200px;
	--sidebar-width: 256px;
	--header-height: 64px;
	--header-height-sm: 56px;
}

/* ============================================================================
   TAILWIND THEME INTEGRATION
   Maps CSS variables to Tailwind utility classes
   ============================================================================ */

@theme inline {
	/* Colors */
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-card: var(--card);
	--color-card-foreground: var(--card-foreground);
	--color-popover: var(--popover);
	--color-popover-foreground: var(--popover-foreground);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-destructive: var(--destructive);
	--color-destructive-foreground: var(--destructive-foreground);
	--color-border: var(--border);
	--color-input: var(--input);
	--color-ring: var(--ring);

	/* Extended palette */
	--color-surface-base: var(--surface-base);
	--color-surface-raised: var(--surface-raised);
	--color-surface-inset: var(--surface-inset);
	--color-surface-overlay: var(--surface-overlay);
	--color-text-primary: var(--text-primary);
	--color-text-secondary: var(--text-secondary);
	--color-text-tertiary: var(--text-tertiary);
	--color-accent: var(--accent);
	--color-accent-hover: var(--accent-hover);
	--color-accent-muted: var(--accent-muted);
	--color-accent-foreground: var(--accent-foreground);
	--color-border-subtle: var(--border-subtle);
	--color-border-visible: var(--border-visible);
	--color-border-focus: var(--border-focus);
	--color-success: var(--success);
	--color-success-muted: var(--success-muted);
	--color-warning: var(--warning);
	--color-warning-muted: var(--warning-muted);
	--color-error: var(--error);
	--color-error-muted: var(--error-muted);
	--color-info: var(--info);
	--color-info-muted: var(--info-muted);

	/* Radius */
	--radius-sm: calc(var(--radius) - 4px);
	--radius-md: calc(var(--radius) - 2px);
	--radius-lg: var(--radius);
	--radius-xl: calc(var(--radius) + 4px);
}

/* ============================================================================
   BASE STYLES
   ============================================================================ */

@layer base {
	* {
		@apply border-border outline-ring/50;
	}

	html {
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		text-rendering: optimizeLegibility;
	}

	body {
		font-family: var(--font-body);
		font-size: var(--text-base);
		line-height: var(--leading-normal);
		color: var(--text-primary);
		background-color: var(--surface-base);
	}

	/* Display typography - Newsreader serif */
	h1,
	h2,
	h3,
	.font-display {
		font-family: var(--font-display);
		font-weight: var(--font-semibold);
		line-height: var(--leading-tight);
		letter-spacing: var(--tracking-tight);
	}

	h1 {
		font-size: var(--text-4xl);
	}

	h2 {
		font-size: var(--text-3xl);
	}

	h3 {
		font-size: var(--text-2xl);
	}

	h4,
	h5,
	h6 {
		font-family: var(--font-body);
		font-weight: var(--font-semibold);
		line-height: var(--leading-snug);
	}

	/* Body typography */
	p {
		line-height: var(--leading-relaxed);
	}

	/* Links */
	a:not([class]) {
		color: var(--accent);
		text-decoration: underline;
		text-underline-offset: 2px;
		transition: color var(--duration-fast) var(--ease-out);
	}

	a:not([class]):hover {
		color: var(--accent-hover);
	}

	/* Focus states - 2px terracotta ring with offset */
	:focus-visible {
		outline: 2px solid var(--accent);
		outline-offset: 2px;
	}

	/* Code */
	code:not([class]) {
		font-family: var(--font-mono);
		font-size: 0.9em;
		padding: 0.125em 0.25em;
		background: var(--surface-inset);
		border-radius: var(--radius-sm);
	}

	/* Selection */
	::selection {
		background: var(--accent-muted);
		color: var(--text-primary);
	}

	/* Scrollbar styling */
	::-webkit-scrollbar {
		width: 8px;
		height: 8px;
	}

	::-webkit-scrollbar-track {
		background: var(--surface-base);
	}

	::-webkit-scrollbar-thumb {
		background: var(--border-visible);
		border-radius: var(--radius-pill);
	}

	::-webkit-scrollbar-thumb:hover {
		background: var(--text-tertiary);
	}
}

/* ============================================================================
   UTILITY CLASSES
   ============================================================================ */

@layer utilities {
	/* Font families */
	.font-display {
		font-family: var(--font-display);
	}

	.font-body {
		font-family: var(--font-body);
	}

	.font-mono {
		font-family: var(--font-mono);
	}

	/* Inset panel - the signature "pressed paper" motif */
	.panel-inset {
		background: var(--surface-inset);
		border: 1px solid var(--border-subtle);
		box-shadow: var(--shadow-inset);
	}

	/* Raised panel */
	.panel-raised {
		background: var(--surface-raised);
		border: 1px solid var(--border-visible);
	}

	/* Hairline rule (editorial separator) */
	.rule {
		border: 0;
		border-top: 1px solid var(--border-subtle);
	}

	/* Editorial gradient text */
	.text-gradient {
		background: linear-gradient(
			135deg,
			var(--text-primary) 0%,
			var(--accent) 100%
		);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	/* Noise texture overlay */
	.noise-overlay::before {
		content: "";
		position: absolute;
		inset: 0;
		pointer-events: none;
		opacity: 0.03;
		background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
	}
}

/* ============================================================================
   ANIMATION KEYFRAMES
   ============================================================================ */

@keyframes fade-in {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes fade-up {
	from {
		opacity: 0;
		transform: translateY(8px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes pulse-subtle {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0.7;
	}
}

@keyframes skeleton-wave {
	0% {
		background-position: -200% 0;
	}
	100% {
		background-position: 200% 0;
	}
}

/* Credit deduction animation */
@keyframes float-up {
	0% {
		opacity: 1;
		transform: translateY(0) scale(1);
	}
	100% {
		opacity: 0;
		transform: translateY(-20px) scale(0.8);
	}
}

/* Progress bar fill */
@keyframes progress-fill {
	from {
		transform: scaleX(0);
	}
	to {
		transform: scaleX(1);
	}
}

/* ============================================================================
   REDUCED MOTION
   ============================================================================ */

@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}
